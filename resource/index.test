const
  path = '/foo'

, { test, read, fetch }
    = require ('test')

, { Server, Resource }
    = require ('..')

, route
    = require ('../middleware')
      .route  ( path, Resource `server/fixtures` )


test.only ('new Resource', async t => {

  const
    stack = [ route ]

  , server =
      (new Server (stack))
      .serve ``

  , { body } = await fetch (`http://localhost:8181${path}`)


  console.warn (await read (body))

  server.close ``
  t.end ()
})
