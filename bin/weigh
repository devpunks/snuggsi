#!/bin/bash

ls -al ./dist

bin/validate-weight

MAXIMUM=1500
LIBRARY=./dist/snuggsi.min.es.br


echo
echo "âš– snuggsiãƒ„ Weight Check"
echo "  âš– Validating Weight of ğŸ‘‰  $LIBRARY"
echo
echo "  âš ï¸  Maximum allowable weight ğŸ‘‰  $MAXIMUM OCTETS"


OCTETS=$(
  ls -nl $LIBRARY | \
  awk '{print $5}'
) || exit 1

if [[ $OCTETS -gt $MAXIMUM ]]; then
  echo "  ğŸ”´  snuggsiãƒ„ current weight ğŸ‘‰  $OCTETS OCTETS"
  echo "    âŒ  Overweight by $((OCTETS - MAXIMUM)) OCTETS"
  echo && exit 1 # â­• ğŸš« âŒ ğŸ”´ 
fi


echo "  âœ…  snuggsiãƒ„ weighs ğŸ‘‰  $OCTETS OCTETS"
echo
