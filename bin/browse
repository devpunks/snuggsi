#!/usr/bin/env bash

# https://unix.stackexchange.com/questions/122845/using-a-b-for-variable-assignment-in-scripts

export ROOT=${1:-`pwd`}
export PORT=${PORT:-3000}
export BROWSER_PORT=$((PORT+1))
export BROWSER_UI_PORT=$((BROWSER_PORT+1))

BROWSER=./node_modules/.bin/browser-sync
CONFIGURATION="--config watch/browser.es"
BROWSE="$BROWSER start $CONFIGURATION"
WATCH="bin/watch"

echo $BROWSE

bin/serve $ROOT \
  & $BROWSE     \
  & $WATCH      \
