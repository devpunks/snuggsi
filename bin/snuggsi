#!/usr/bin/env bash

# http://www.tldp.org/LDP/abs/html/parameter-substitution.html
# https://stackoverflow.com/questions/35006457/choosing-between-0-and-bash-source
# https://unix.stackexchange.com/questions/41571/what-is-the-difference-between-and
# https://serverfault.com/questions/52034/what-is-the-difference-between-double-and-single-square-brackets-in-bash


echo $PWD/${1#./}

realpath() {
  [[ $1 = /* ]] && echo "$1" || echo "$PWD/${1#./}"
}

realpath "$0"

# References scalar BASH_SOURCE returns index @ 0
DIR=`dirname $BASH_SOURCE`

echo "BASH_SOURCE: `dirname ${BASH_SOURCE}`"
echo "DIRRRRR ${DIR}"
echo "DIRRRRR `pwd`"

PARAMS=$@

export POSTCSS="$DIR/postcss"
export PATH=$1
export ENTRY="$POSTCSS" #$(pwd)/${PATH:-foo-bar}/index.css"

echo $ENTRY

$( $ENTRY )

echo "All $PARAMS"

echo "Component name $NAME"

for PARAM in "$@"
do
# if [[ $PARAM == -* ]
  if [[ -d $PARAM ]]; then
    echo $PARAM
  else
    echo "NO DIRECTORY $PARAM"
  fi
done


echo "Snuggsi cli"
